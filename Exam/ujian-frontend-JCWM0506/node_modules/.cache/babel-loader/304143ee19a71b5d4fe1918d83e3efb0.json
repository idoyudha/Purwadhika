{"ast":null,"code":"var _jsxFileName = \"/mnt/d/Course/P/Code/Exam/ujian-frontend-JCWM0506/src/App.js\";\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport AuthPage from './pages/authPage';\nimport React, { Component } from 'react';\nimport { Route, Switch } from 'react-router';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport HomePage from './pages/homePage';\nimport NotFound from './pages/notfoundPage';\nimport NavbarComp from './components/navbar';\nimport { URL_API } from './helper';\nimport { authLogin } from './action';\nimport { getProductAction } from './action';\nimport CartPage from './pages/cartPage';\nimport CheckoutPage from './pages/checkoutPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.reLogin = () => {\n      let idToken = localStorage.getItem(\"tkn_id\");\n      console.log('idToken', idToken);\n      axios.get(URL_API + `/users?id=${idToken}`).then(response => {\n        console.log('relogin', response.data);\n        this.props.authLogin(response.data[0]);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {};\n  }\n\n  componentDidMount() {\n    this.reLogin();\n    this.getProducts();\n  }\n\n  getProducts() {\n    axios.get(URL_API + `/products`).then(response => {\n      console.log(\"product list\", response.data);\n      this.props.getProductAction(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavbarComp, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          component: AuthPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/cart\",\n          component: CartPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/checkout\",\n          component: CheckoutPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          component: HomePage,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          component: NotFound\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default connect(null, {\n  authLogin,\n  getProductAction\n})(App);","map":{"version":3,"sources":["/mnt/d/Course/P/Code/Exam/ujian-frontend-JCWM0506/src/App.js"],"names":["AuthPage","React","Component","Route","Switch","axios","connect","HomePage","NotFound","NavbarComp","URL_API","authLogin","getProductAction","CartPage","CheckoutPage","App","constructor","props","reLogin","idToken","localStorage","getItem","console","log","get","then","response","data","catch","error","state","componentDidMount","getProducts","render"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\r\nimport './App.css';\r\nimport AuthPage from './pages/authPage'\r\nimport React, { Component } from 'react';\r\nimport { Route, Switch } from 'react-router';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport HomePage from './pages/homePage';\r\nimport NotFound from './pages/notfoundPage';\r\nimport NavbarComp from './components/navbar';\r\nimport { URL_API } from './helper';\r\nimport { authLogin } from './action';\r\nimport { getProductAction } from './action';\r\nimport CartPage from './pages/cartPage';\r\nimport CheckoutPage from './pages/checkoutPage';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {  }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.reLogin()\r\n    this.getProducts()\r\n  }\r\n\r\n  reLogin = () => {\r\n    let idToken = localStorage.getItem(\"tkn_id\")\r\n    console.log('idToken', idToken)\r\n    axios.get(URL_API+`/users?id=${idToken}`)\r\n    .then(response => {\r\n      console.log('relogin', response.data)\r\n      this.props.authLogin(response.data[0])\r\n    })\r\n    .catch(error => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  getProducts() {\r\n    axios.get(URL_API+`/products`)\r\n    .then(response => {\r\n        console.log(\"product list\", response.data)\r\n        this.props.getProductAction(response.data)\r\n    })\r\n    .catch(error => {\r\n        console.log(error)\r\n    })\r\n  }\r\n\r\n  render() { \r\n    return (  \r\n      <div>\r\n        <NavbarComp/>\r\n        <Switch>\r\n          <Route path=\"/login\" component={AuthPage}/>\r\n          <Route path=\"/cart\" component={CartPage}/>\r\n          <Route path=\"/checkout\" component={CheckoutPage}/>\r\n          <Route path=\"/\" component={HomePage} exact/>\r\n          <Route path=\"*\" component={ NotFound }/>\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n \r\nexport default connect(null, {authLogin, getProductAction})(App);\r\n"]},"metadata":{},"sourceType":"module"}